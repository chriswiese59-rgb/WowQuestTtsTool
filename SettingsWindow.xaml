<Window x:Class="WowQuestTtsTool.SettingsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Einstellungen"
        Width="550"
        Height="620"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- TabControl für verschiedene Einstellungen -->
        <TabControl Grid.Row="0">
            <!-- ElevenLabs Tab -->
            <TabItem Header="ElevenLabs">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="10">
                    <StackPanel>
                        <TextBlock Text="ElevenLabs API Konfiguration"
                                   FontSize="16" FontWeight="Bold" Margin="0,0,0,15"/>

                        <!-- API Key -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="API-Key:" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <PasswordBox x:Name="ApiKeyBox" Grid.Column="0" Height="28" Padding="8,5"
                                             PasswordChanged="ApiKeyBox_PasswordChanged"/>
                                <TextBox x:Name="ApiKeyTextBox" Grid.Column="0" Height="28" Padding="8,5"
                                         Visibility="Collapsed" TextChanged="ApiKeyTextBox_TextChanged"/>
                                <Button Grid.Column="1" Content="Zeigen" Width="60" Margin="5,0,0,0"
                                        Click="ToggleApiKeyVisibility"/>
                            </Grid>
                            <TextBlock Text="elevenlabs.io → Profile → API Keys"
                                       Foreground="Gray" FontSize="11" Margin="0,3,0,0"/>
                        </StackPanel>

                        <!-- Voice ID -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="Voice-ID:" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <TextBox x:Name="VoiceIdBox" Height="28" Padding="8,5"/>
                        </StackPanel>

                        <!-- Model ID -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="Model-ID:" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <ComboBox x:Name="ModelIdCombo" Height="28" SelectedIndex="0">
                                <ComboBoxItem Content="eleven_multilingual_v2" Tag="eleven_multilingual_v2"/>
                                <ComboBoxItem Content="eleven_turbo_v2_5" Tag="eleven_turbo_v2_5"/>
                                <ComboBoxItem Content="eleven_monolingual_v1" Tag="eleven_monolingual_v1"/>
                            </ComboBox>
                        </StackPanel>

                        <!-- Voice Settings -->
                        <GroupBox Header="Voice-Einstellungen" Padding="10" Margin="0,0,0,12">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Column="0" Margin="0,0,10,0">
                                    <TextBlock Text="Stabilität:" Margin="0,0,0,3"/>
                                    <StackPanel Orientation="Horizontal">
                                        <Slider x:Name="StabilitySlider" Width="120" Minimum="0" Maximum="1"
                                                Value="0.5" TickFrequency="0.1" IsSnapToTickEnabled="True"/>
                                        <TextBlock Text="{Binding ElementName=StabilitySlider, Path=Value, StringFormat={}{0:F1}}"
                                                   Margin="5,0,0,0" Width="25"/>
                                    </StackPanel>
                                </StackPanel>

                                <StackPanel Grid.Column="1">
                                    <TextBlock Text="Similarity Boost:" Margin="0,0,0,3"/>
                                    <StackPanel Orientation="Horizontal">
                                        <Slider x:Name="SimilaritySlider" Width="120" Minimum="0" Maximum="1"
                                                Value="0.75" TickFrequency="0.1" IsSnapToTickEnabled="True"/>
                                        <TextBlock Text="{Binding ElementName=SimilaritySlider, Path=Value, StringFormat={}{0:F1}}"
                                                   Margin="5,0,0,0" Width="25"/>
                                    </StackPanel>
                                </StackPanel>
                            </Grid>
                        </GroupBox>

                        <!-- Test Button -->
                        <Button Content="ElevenLabs Verbindung testen" Height="30"
                                Click="TestElevenLabsConnection_Click" HorizontalAlignment="Left" Width="200"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!-- Blizzard API Tab -->
            <TabItem Header="Blizzard API">
                <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="10">
                    <StackPanel>
                        <TextBlock Text="Blizzard API Konfiguration"
                                   FontSize="16" FontWeight="Bold" Margin="0,0,0,15"/>

                        <!-- Client ID -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="Client-ID:" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <TextBox x:Name="BlizzardClientIdBox" Height="28" Padding="8,5"/>
                            <TextBlock Text="develop.battle.net → Anwendungen → Client-ID"
                                       Foreground="Gray" FontSize="11" Margin="0,3,0,0"/>
                        </StackPanel>

                        <!-- Client Secret -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="Client-Secret:" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <PasswordBox x:Name="BlizzardSecretBox" Grid.Column="0" Height="28" Padding="8,5"
                                             PasswordChanged="BlizzardSecretBox_PasswordChanged"/>
                                <TextBox x:Name="BlizzardSecretTextBox" Grid.Column="0" Height="28" Padding="8,5"
                                         Visibility="Collapsed" TextChanged="BlizzardSecretTextBox_TextChanged"/>
                                <Button Grid.Column="1" Content="Zeigen" Width="60" Margin="5,0,0,0"
                                        Click="ToggleBlizzardSecretVisibility"/>
                            </Grid>
                        </StackPanel>

                        <!-- Region -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="Region:" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <ComboBox x:Name="BlizzardRegionCombo" Height="28" SelectedIndex="0">
                                <ComboBoxItem Content="EU (Europa)" Tag="eu"/>
                                <ComboBoxItem Content="US (Amerika)" Tag="us"/>
                                <ComboBoxItem Content="KR (Korea)" Tag="kr"/>
                                <ComboBoxItem Content="TW (Taiwan)" Tag="tw"/>
                            </ComboBox>
                        </StackPanel>

                        <!-- Max Quests -->
                        <StackPanel Margin="0,0,0,12">
                            <TextBlock Text="Max. Quests:" FontWeight="SemiBold" Margin="0,0,0,5"/>
                            <StackPanel Orientation="Horizontal">
                                <TextBox x:Name="MaxQuestsBox" Width="100" Height="28" Padding="8,5" Text="1000"/>
                                <TextBlock Text="Maximale Anzahl zu ladender Quests"
                                           Foreground="Gray" FontSize="11" VerticalAlignment="Center" Margin="10,0,0,0"/>
                            </StackPanel>
                        </StackPanel>

                        <!-- Info Box -->
                        <Border Background="#E3F2FD" BorderBrush="#90CAF9" BorderThickness="1"
                                CornerRadius="4" Padding="10" Margin="0,10,0,12">
                            <StackPanel>
                                <TextBlock Text="So erhältst du deine Zugangsdaten:" FontWeight="SemiBold" Margin="0,0,0,5"/>
                                <TextBlock TextWrapping="Wrap" FontSize="12">
                                    1. Gehe zu develop.battle.net&#x0a;
                                    2. Melde dich mit deinem Battle.net-Account an&#x0a;
                                    3. Klicke auf "Anwendung erstellen"&#x0a;
                                    4. Kopiere Client-ID und Client-Secret
                                </TextBlock>
                            </StackPanel>
                        </Border>

                        <!-- Test Button -->
                        <Button Content="Blizzard Verbindung testen" Height="30"
                                Click="TestBlizzardConnection_Click" HorizontalAlignment="Left" Width="200"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>

        <!-- Status -->
        <Border Grid.Row="1" Background="#FFF3CD" BorderBrush="#FFEEBA" BorderThickness="1"
                CornerRadius="4" Padding="10" Margin="0,10,0,0" x:Name="StatusBorder">
            <TextBlock x:Name="StatusText" Text="Konfiguriere deine API-Zugangsdaten."
                       TextWrapping="Wrap"/>
        </Border>

        <!-- Buttons -->
        <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button Content="Speichern" Width="100" Height="30" Margin="0,0,10,0"
                    Click="Save_Click" IsDefault="True"/>
            <Button Content="Abbrechen" Width="100" Height="30"
                    Click="Cancel_Click" IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>
