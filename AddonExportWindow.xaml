<Window x:Class="WowQuestTtsTool.AddonExportWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="WoW Addon Export"
        Width="600"
        Height="854"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">
    <Grid Margin="15">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0" Text="WoW Addon Export"
                   FontSize="20" FontWeight="Bold" Margin="0,0,0,15"/>

        <!-- Info Box -->
        <Border Grid.Row="1" Background="#E8F5E9" BorderBrush="#A5D6A7" BorderThickness="1"
                CornerRadius="4" Padding="10" Margin="0,0,0,15">
            <TextBlock TextWrapping="Wrap" FontSize="12">
                Exportiert alle vertonten Quests als fertiges WoW-Addon.
                Das Addon wird automatisch abgespielt, wenn du eine Quest annimmst oder abgibst.
                Kopiere den Export-Ordner in deinen WoW AddOns-Ordner.
            </TextBlock>
        </Border>

        <!-- Einstellungen -->
        <GroupBox Grid.Row="2" Header="Export-Einstellungen" Padding="10" Margin="0,0,0,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Quell-Ordner -->
                <TextBlock Grid.Row="0" Grid.Column="0" Text="Audio-Quellordner:"
                           VerticalAlignment="Center" Margin="0,0,10,8"/>
                <TextBox x:Name="SourcePathBox" Grid.Row="0" Grid.Column="1"
                         Height="28" Padding="8,5" Margin="0,0,8,8"/>
                <Button Grid.Row="0" Grid.Column="2" Content="..." Width="30" Height="28"
                        Click="OnBrowseSourceClick" Margin="0,0,0,8"/>

                <!-- Ziel-Ordner -->
                <TextBlock Grid.Row="1" Grid.Column="0" Text="Addon-Zielordner:"
                           VerticalAlignment="Center" Margin="0,0,10,8"/>
                <TextBox x:Name="TargetPathBox" Grid.Row="1" Grid.Column="1"
                         Height="28" Padding="8,5" Margin="0,0,8,8"/>
                <Button Grid.Row="1" Grid.Column="2" Content="..." Width="30" Height="28"
                        Click="OnBrowseTargetClick" Margin="0,0,0,8"/>

                <!-- Addon-Name -->
                <TextBlock Grid.Row="2" Grid.Column="0" Text="Addon-Name:"
                           VerticalAlignment="Center" Margin="0,0,10,8"/>
                <TextBox x:Name="AddonNameBox" Grid.Row="2" Grid.Column="1" Grid.ColumnSpan="2"
                         Height="28" Padding="8,5" Text="QuestVoiceover" Margin="0,0,0,8"/>

                <!-- Version -->
                <TextBlock Grid.Row="3" Grid.Column="0" Text="Version:"
                           VerticalAlignment="Center" Margin="0,0,10,8"/>
                <TextBox x:Name="VersionBox" Grid.Row="3" Grid.Column="1" Grid.ColumnSpan="2"
                         Height="28" Padding="8,5" Text="1.0.0" Margin="0,0,0,8"/>

                <!-- Sprache -->
                <TextBlock Grid.Row="4" Grid.Column="0" Text="Sprache:"
                           VerticalAlignment="Center" Margin="0,0,10,0"/>
                <ComboBox x:Name="LanguageCombo" Grid.Row="4" Grid.Column="1" Grid.ColumnSpan="2"
                          Height="28" SelectedIndex="0">
                    <ComboBoxItem Content="Deutsch (deDE)" Tag="deDE"/>
                    <ComboBoxItem Content="Englisch (enUS)" Tag="enUS"/>
                    <ComboBoxItem Content="Franzoesisch (frFR)" Tag="frFR"/>
                    <ComboBoxItem Content="Spanisch (esES)" Tag="esES"/>
                </ComboBox>
            </Grid>
        </GroupBox>

        <!-- Erweiterte Export-Optionen -->
        <GroupBox Grid.Row="3" Header="Erweiterte Optionen" Padding="10" Margin="0,0,0,15">
            <StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,0,8">
                    <CheckBox x:Name="UseExtendedExportCheckBox"
                              Content="Erweiterter Export mit Ingame-Options-UI"
                              IsChecked="True"
                              VerticalAlignment="Center"/>
                    <Button x:Name="AddonSettingsButton" Content="Einstellungen..."
                            Width="100" Height="24" Margin="15,0,0,0"
                            Click="OnAddonSettingsClick"/>
                </StackPanel>
                <TextBlock TextWrapping="Wrap" FontSize="11" Foreground="#666"
                           Text="Generiert ein vollstaendiges WoW-Addon mit Einstellungs-Panel im Spiel (Wiedergabemodus, Stimme, Quest-Filter, etc.)"/>
            </StackPanel>
        </GroupBox>

        <!-- Patch-Diff Optionen -->
        <GroupBox Grid.Row="4" Header="Patch-Vergleich (optional)" Padding="10" Margin="0,0,0,15">
            <StackPanel>
                <CheckBox x:Name="CreateSnapshotCheckBox"
                          Content="Quest-Snapshot erstellen (fuer kuenftige Vergleiche)"
                          Margin="0,0,0,8"/>
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Vergleichen mit Snapshot:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                    <TextBox x:Name="CompareSnapshotPathBox" Width="280" Height="28" Padding="8,5"/>
                    <Button Content="..." Width="30" Height="28" Margin="8,0,0,0"
                            Click="OnBrowseSnapshotClick"/>
                </StackPanel>
            </StackPanel>
        </GroupBox>

        <!-- Log/Output -->
        <GroupBox Grid.Row="5" Header="Export-Log" Padding="10">
            <TextBox x:Name="LogTextBox"
                     IsReadOnly="True"
                     TextWrapping="Wrap"
                     VerticalScrollBarVisibility="Auto"
                     FontFamily="Consolas"
                     FontSize="11"/>
        </GroupBox>

        <!-- Progress Bar -->
        <Grid Grid.Row="6" Margin="0,15,0,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <ProgressBar x:Name="ExportProgressBar" Grid.Column="0" Height="20"/>
            <TextBlock x:Name="ProgressText" Grid.Column="1" Margin="10,0,0,0"
                       VerticalAlignment="Center" Width="60" Text="0%"/>
        </Grid>

        <!-- Buttons -->
        <StackPanel Grid.Row="7" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,15,0,0">
            <Button x:Name="ExportButton" Content="Export starten" Width="120" Height="32"
                    Click="OnExportClick" Background="#4CAF50" Foreground="White" FontWeight="SemiBold"/>
            <Button Content="Abbrechen" Width="100" Height="32" Margin="10,0,0,0"
                    Click="OnCancelClick" IsCancel="True"/>
        </StackPanel>
    </Grid>
</Window>
